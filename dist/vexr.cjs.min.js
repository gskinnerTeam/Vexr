"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var asyncGenerator=function(){function t(t){this.value=t}function r(r){function a(t,r){return new Promise(function(a,i){var s={key:t,arg:r,resolve:a,reject:i,next:null};u?u=u.next=s:(n=u=s,e(t,r))})}function e(a,n){try{var u=r[a](n),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){e("next",t)},function(t){e("throw",t)}):i(u.done?"return":"normal",u.value)}catch(t){i("throw",t)}}function i(t,r){switch(t){case"return":n.resolve({value:r,done:!0});break;case"throw":n.reject(r);break;default:n.resolve({value:r,done:!1})}n=n.next,n?e(n.key,n.arg):u=null}var n,u;this._invoke=a,"function"!=typeof r.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(t){return this._invoke("next",t)},r.prototype.throw=function(t){return this._invoke("throw",t)},r.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new r(t.apply(this,arguments))}},await:function(r){return new t(r)}}}(),classCallCheck=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,r){for(var a=0;a<r.length;a++){var e=r[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(r,a,e){return a&&t(r.prototype,a),e&&t(r,e),r}}(),get$1=function t(r,a,e){null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0===i){var n=Object.getPrototypeOf(r);return null===n?void 0:t(n,a,e)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(e)},set$1=function t(r,a,e,i){var n=Object.getOwnPropertyDescriptor(r,a);if(void 0===n){var u=Object.getPrototypeOf(r);null!==u&&t(u,a,e,i)}else if("value"in n&&n.writable)n.value=e;else{var s=n.set;void 0!==s&&s.call(i,e)}return e},Vector2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;classCallCheck(this,t),this.raw=[r,a]}return createClass(t,null,[{key:"angleBetween",value:function(r,a){var e=r.magnitude()*a.magnitude(),i=t.dot(r,a);return Math.acos(i/e)}},{key:"lerp",value:function(r,a,e){var i=r.x+e*(a.x-r.x),n=r.y+e*(a.y-r.y);return new t(i,n)}},{key:"map",value:function(t,r,a,e,i){return e+(i-e)*(t-r)/(a-r)}},{key:"normalize",value:function(t){var r=t.get();return r.normalize(),r}},{key:"magnitude",value:function(r){return Math.sqrt(t.dot(r,r))}},{key:"radiansToDegrees",value:function(t){return t*(180/Math.PI)}},{key:"degreesToRadians",value:function(t){return t*(Math.PI/180)}},{key:"add",value:function(r,a){return new t(r.x+a.x,r.y+a.y)}},{key:"subtract",value:function(r,a){var e=new t(a.x,a.y);return e.negate(),t.add(r,e)}},{key:"multiply",value:function(r,a){return new t(r.x*a,r.y*a)}},{key:"divide",value:function(r,a){return a=1/a,t.multiply(r,a)}},{key:"dot",value:function(t,r){return t.x*r.x+t.y*r.y}},{key:"dist",value:function(t,r){var a=t.x-r.x,e=t.y-r.y;return Math.sqrt(a*a+e*e)}}]),createClass(t,[{key:"get",value:function(){return new t(this.x,this.y)}},{key:"set",value:function(t,r){this.x=t,this.y=r}},{key:"multiply",value:function(t){this.x=this.x*t,this.y=this.y*t}},{key:"add",value:function(t){this.x=this.x+t.x,this.y=this.y+t.y}},{key:"subtract",value:function(r){var a=new t(r.x,r.y);a.negate(),this.add(a)}},{key:"divide",value:function(t){t=1/t,this.multiply(t)}},{key:"negate",value:function(){this.x=-this.x,this.y=-this.y}},{key:"clamp",value:function(t){this.x>t?this.x=t:this.x<0&&this.x<t&&(this.x=-t),this.y>t?this.y=t:this.y<0&&this.y<t&&(this.y=-t)}},{key:"limit",value:function(t){this.magnitude()>t&&(this.normalize(),this.multiply(t))}},{key:"rotate",value:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t(0,0),e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.magnitude(),n=t.degreesToRadians(r),u=Math.cos(n),s=Math.sin(n);this.x=u*(this.x-a.x)+s*(this.y-a.y)+a.x,this.y=u*(this.y-a.y)-s*(this.x-a.x)+a.y,e&&(this.normalize(),this.multiply(i))}},{key:"magnitude",value:function(){return Math.sqrt(t.dot(this,this))}},{key:"normalize",value:function(){var t=this.magnitude();t>0&&this.divide(t)}},{key:"x",get:function(){return this.raw[0]},set:function(t){this.raw[0]=t}},{key:"y",get:function(){return this.raw[1]},set:function(t){this.raw[1]=t}}]),t}(),Vector3=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;classCallCheck(this,t),this.raw=[r,a,e]}return createClass(t,null,[{key:"angleBetween",value:function(r,a){var e=r.magnitude()*a.magnitude(),i=t.dot(r,a);return Math.acos(i/e)}},{key:"lerp",value:function(r,a,e){var i=r.x+e*(a.x-r.x),n=r.y+e*(a.y-r.y),u=r.z+e*(a.z-r.z);return new t(i,n,u)}},{key:"map",value:function(t,r,a,e,i){return e+(i-e)*(t-r)/(a-r)}},{key:"normalize",value:function(t){var r=t.get();return r.normalize(),r}},{key:"magnitude",value:function(r){return Math.sqrt(t.dot(r,r))}},{key:"radiansToDegrees",value:function(t){return t*(180/Math.PI)}},{key:"degreesToRadians",value:function(t){return t*(Math.PI/180)}},{key:"add",value:function(r,a){return new t(r.x+a.x,r.y+a.y,r.z+a.z)}},{key:"subtract",value:function(r,a){var e=new t(a.x,a.y,a.z);return e.negate(),t.add(r,e)}},{key:"multiply",value:function(r,a){return new t(r.x*a,r.y*a,r.z*a)}},{key:"divide",value:function(r,a){return a=1/a,t.multiply(r,a)}},{key:"dot",value:function(t,r){return t.x*r.x+t.y*r.y+t.z*r.z}},{key:"cross",value:function(r,a){var e=r.y*a.z-a.y*r.z,i=r.z*a.x-a.z*r.x,n=r.x*a.y-a.x*r.y;return new t(e,i,n)}},{key:"dist",value:function(t,r){var a=t.x-r.x,e=t.y-r.y,i=t.z-r.z;return Math.sqrt(a*a+e*e+i*i)}}]),createClass(t,[{key:"get",value:function(){return new t(this.x,this.y,this.z)}},{key:"set",value:function(t,r,a){this.x=t,this.y=r,this.z=a}},{key:"multiply",value:function(t){this.x=this.x*t,this.y=this.y*t,this.z=this.z*t}},{key:"add",value:function(t){this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z}},{key:"subtract",value:function(r){var a=new t(r.x,r.y,r.z);a.negate(),this.add(a)}},{key:"divide",value:function(t){t=1/t,this.multiply(t)}},{key:"negate",value:function(){this.x=-this.x,this.y=-this.y,this.z=-this.z}},{key:"clamp",value:function(t){this.x>t?this.x=t:this.x<0&&this.x<t&&(this.x=-t),this.y>t?this.y=t:this.y<0&&this.y<t&&(this.y=-t),this.z>t?this.z=t:this.z<0&&this.z<t&&(this.z=-t)}},{key:"limit",value:function(t){this.magnitude()>t&&(this.normalize(),this.multiply(t))}},{key:"rotate",value:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new t(0,0),e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.magnitude(),n=t.degreesToRadians(r),u=Math.cos(n),s=Math.sin(n);this.x=u*(this.x-a.x)+s*(this.y-a.y)+a.x,this.y=u*(this.y-a.y)-s*(this.x-a.x)+a.y,e&&(this.normalize(),this.multiply(i))}},{key:"magnitude",value:function(){return Math.sqrt(t.dot(this,this))}},{key:"normalize",value:function(){var t=this.magnitude();t>0&&this.divide(t)}},{key:"x",get:function(){return this.raw[0]},set:function(t){this.raw[0]=t}},{key:"y",get:function(){return this.raw[1]},set:function(t){this.raw[1]=t}},{key:"z",get:function(){return this.raw[2]},set:function(t){this.raw[2]=t}}]),t}(),Matrix3=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,0,1,0,0,0,1];classCallCheck(this,t),this.raw=new Float32Array(r)}return createClass(t,[{key:"setMatrix",value:function(t){this.raw=t}},{key:"multiply",value:function(r){var a=t.multiply(this,r);this.raw=a.raw}},{key:"column1",get:function(){return[this.raw[0],this.raw[3],this.raw[6]]},set:function(t){this.raw[0]=t[0],this.raw[3]=t[1],this.raw[6]=t[2]}},{key:"column2",get:function(){return[this.raw[1],this.raw[4],this.raw[7]]},set:function(t){this.raw[1]=t[0],this.raw[4]=t[1],this.raw[7]=t[2]}},{key:"column3",get:function(){return[this.raw[2],this.raw[5],this.raw[8]]},set:function(t){this.raw[2]=t[0],this.raw[5]=t[1],this.raw[68]=t[2]}},{key:"row1",get:function(){return[this.raw[0],this.raw[1],this.raw[2]]},set:function(t){this.raw[0]=t[0],this.raw[1]=t[1],this.raw[2]=t[2]}},{key:"row2",get:function(){return[this.raw[3],this.raw[4],this.raw[5]]},set:function(t){this.raw[3]=t[0],this.raw[4]=t[1],this.raw[5]=t[2]}},{key:"row3",get:function(){return[this.raw[6],this.raw[7],this.raw[8]]},set:function(t){this.raw[6]=t[0],this.raw[7]=t[1],this.raw[8]=t[2]}}],[{key:"dot",value:function(t,r){var a=t[0]*r[0]+t[1]*r[1]+t[2]*r[2];return console.log(a),a}},{key:"multiply",value:function(r,a){var e=new Float32Array(9);e[0]=t.dot(r.column1,a.row1),e[1]=t.dot(r.column2,a.row1),e[2]=t.dot(r.column3,a.row1),e[3]=t.dot(r.column1,a.row2),e[4]=t.dot(r.column2,a.row2),e[5]=t.dot(r.column3,a.row2),e[6]=t.dot(r.column1,a.row3),e[7]=t.dot(r.column2,a.row3),e[8]=t.dot(r.column3,a.row3);var i=new t;return i.setMatrix(e),i}}]),t}(),Matrix4=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);classCallCheck(this,t),this.setMatrix(r)}return createClass(t,[{key:"setMatrix",value:function(t){this.raw=t}},{key:"transpose",value:function(){var t=[this.raw[0],this.raw[1],this.raw[2],this.raw[3]],r=[this.raw[4],this.raw[5],this.raw[6],this.raw[7]],a=[this.raw[8],this.raw[9],this.raw[10],this.raw[11]],e=[this.raw[12],this.raw[13],this.raw[14],this.raw[15]];this.raw[0]=t[0],this.raw[4]=t[1],this.raw[8]=t[2],this.raw[12]=t[3],this.raw[1]=r[0],this.raw[5]=r[1],this.raw[9]=r[2],this.raw[13]=r[3],this.raw[2]=a[0],this.raw[6]=a[1],this.raw[10]=a[2],this.raw[14]=a[3],this.raw[3]=e[0],this.raw[7]=e[1],this.raw[11]=e[2],this.raw[15]=e[3]}},{key:"multiply",value:function(r){t.multiply(this,r,this)}}],[{key:"dot",value:function(t,r,a,e,i,n,u,s){return t*i+r*n+a*u+e*s}},{key:"multiply",value:function(r,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new t,i=new Float32Array(16);return i[0]=t.dot(r.raw[0],r.raw[4],r.raw[8],r.raw[12],a.raw[0],a.raw[1],a.raw[2],a.raw[3]),i[1]=t.dot(r.raw[1],r.raw[5],r.raw[9],r.raw[13],a.raw[0],a.raw[1],a.raw[2],a.raw[3]),i[2]=t.dot(r.raw[2],r.raw[6],r.raw[10],r.raw[14],a.raw[0],a.raw[1],a.raw[2],a.raw[3]),i[3]=t.dot(r.raw[3],r.raw[7],r.raw[11],r.raw[15],a.raw[0],a.raw[1],a.raw[2],a.raw[3]),i[4]=t.dot(r.raw[0],r.raw[4],r.raw[8],r.raw[12],a.raw[4],a.raw[5],a.raw[6],a.raw[7]),i[5]=t.dot(r.raw[1],r.raw[5],r.raw[9],r.raw[13],a.raw[4],a.raw[5],a.raw[6],a.raw[7]),i[6]=t.dot(r.raw[2],r.raw[6],r.raw[10],r.raw[14],a.raw[4],a.raw[5],a.raw[6],a.raw[7]),i[7]=t.dot(r.raw[3],r.raw[7],r.raw[11],r.raw[15],a.raw[4],a.raw[5],a.raw[6],a.raw[7]),i[8]=t.dot(r.raw[0],r.raw[4],r.raw[8],r.raw[12],a.raw[8],a.raw[9],a.raw[10],a.raw[11]),i[9]=t.dot(r.raw[1],r.raw[5],r.raw[9],r.raw[13],a.raw[8],a.raw[9],a.raw[10],a.raw[11]),i[10]=t.dot(r.raw[2],r.raw[6],r.raw[10],r.raw[14],a.raw[8],a.raw[9],a.raw[10],a.raw[11]),i[11]=t.dot(r.raw[3],r.raw[7],r.raw[11],r.raw[15],a.raw[8],a.raw[9],a.raw[10],a.raw[11]),i[12]=t.dot(r.raw[0],r.raw[4],r.raw[8],r.raw[12],a.raw[12],a.raw[13],a.raw[14],a.raw[15]),i[13]=t.dot(r.raw[1],r.raw[5],r.raw[9],r.raw[13],a.raw[12],a.raw[13],a.raw[14],a.raw[15]),i[14]=t.dot(r.raw[2],r.raw[6],r.raw[10],r.raw[14],a.raw[12],a.raw[13],a.raw[14],a.raw[15]),i[15]=t.dot(r.raw[3],r.raw[7],r.raw[11],r.raw[15],a.raw[12],a.raw[13],a.raw[14],a.raw[15]),e.setMatrix(i),e}}]),t}();exports.Vector2=Vector2,exports.Vector3=Vector3,exports.Matrix3=Matrix3,exports.Matrix4=Matrix4;